!function(e){var t={wrapperClasses:"",modalClasses:"gspop-modal-position",backdrop:{show:!0,clickable:!0},animate:{apply:!0,hide:"animated gp-flipOutX",show:"animated gp-flipIn"},bodyClass:"gspop-opened",modal:"gs-Modal"},o="gspop-modal-position";function s(o,s){this.element=e(o),this.options=e.extend(!0,{},t,s),this.bindEvents(),this.init()}s.prototype.bindEvents=function(){var e=this,t=e.element;if(this.options.backdrop.clickable&&t.next(".gs-Overlay").on("click",e.close.bind(e)),t.find(".gs-cancel").off("click").on("click",e.close.bind(e)),t.off("gspop.close").on("gspop.close",function(){e.toggle()}),t.off("gspop.open").on("gspop.open",function(){e.toggle(!0)}),e.options.animate.apply){var o="animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd";t.off(o).on(o,function(){t.data().showModal?e.triggerShown():(e.hideModal(),e.clean(),e.triggerHidden())})}},s.prototype.close=function(){this.element.trigger("gspop.close")},s.prototype.init=function(){var t=this.element;this.clean(),t.parent(".gs-Modal-Wrapper").length<=0?(t.wrap("<div class='gs-Modal-Wrapper "+this.options.wrapperClasses+"'></div>"),t.addClass(this.options.modalClasses+" "+o),this.options.backdrop.show&&e("<div class='gs-Overlay'></div>").appendTo(this.element.parent(".gs-Modal-Wrapper")),t.parent(".gs-Modal-Wrapper").hide(),t.removeClass("hide"),t.parent(".gs-Modal-Wrapper").appendTo("body")):(t.parent(".gs-Modal-Wrapper").addClass(this.options.wrapperClasses),t.addClass(this.options.modalClasses+" "+o))},s.prototype.toggle=function(t){var o=this;t&&e("body").addClass(o.options.bodyClass),t?(o.element.parent().show(),o.options.animate.apply?o.animate(t):(o.showModal(),setTimeout(function(){o.triggerShown()},0))):o.options.animate.apply?o.animate(t):(o.hideModal(),setTimeout(function(){o.triggerHidden()},0))},s.prototype.triggerShown=function(){this.element.trigger("gspop.shown",this.element)},s.prototype.triggerHidden=function(){this.element.trigger("gspop.hidden",this.element)},s.prototype.animate=function(e){var t="hidden",o=this.options.animate.hide;e&&(t="visible",o=this.options.animate.show+" "+this.options.modalClasses),this.options.animate.apply&&(this.element.removeClass(this.options.animate.hide+" "+this.options.animate.show),this.element.addClass(o),this.element.data("show-modal",e||!1)),e&&this.element.css("visibility",t)},s.prototype.showModal=function(){this.element.css("visibility","visible")},s.prototype.hideModal=function(){this.element.css("visibility","hidden"),this.element.parent().hide()},s.prototype.clean=function(){var t=this.options.animate.hide+" "+this.options.animate.show+" "+this.options.modalClasses+" "+o;this.element.removeClass(t);var s=this.element.parent(".gs-Modal-Wrapper");s.removeClass(this.options.wrapperClasses),s.hide(),e("body").removeClass(this.options.bodyClass)},e.fn.gsPop=function(e){return this.each(function(t,o){new s(o,e)})}}(jQuery);